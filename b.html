<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>North Shore Explorer | Route Planner</title>
    <meta name="description" content="Plan your North Shore adventure with our interactive route planner">
    <meta name="theme-color" content="#2c4c3b">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #2c4c3b;
            --secondary: #5d8b66;
            --accent: #c9a66b;
            --light: #f8f5f0;
            --dark: #1a1a1a;
            --water: #4a90e2;
            --green: #5d8b66;
            --sand: #e6d2aa;
            --rock: #9a8c75;
        }
        
        body {
            background: linear-gradient(to bottom, #f0f7ff, #e6f2e6);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 80px;
        }
        
        header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            padding: 1.2rem 2rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo i {
            font-size: 1.8rem;
            color: var(--accent);
        }
        
        .logo h1 {
            font-size: 1.5rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .controls {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            background-color: var(--accent);
            color: var(--dark);
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .btn:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }
        
        .btn i {
            font-size: 1.1rem;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .hero {
            text-align: center;
            margin-bottom: 2.5rem;
            padding: 2rem;
            border-radius: 16px;
            background: linear-gradient(rgba(44, 76, 59, 0.9), rgba(93, 139, 102, 0.85)), url('https://images.unsplash.com/photo-1598892294455-6f08769f7f3c?ixlib=rb-4.0.3') center/cover;
            color: white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 1.5rem;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: white;
            border-radius: 16px;
            padding: 1.8rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card h3 {
            color: var(--primary);
            font-size: 1.6rem;
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card h3 i {
            color: var(--accent);
        }
        
        .poi-list {
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .poi-item {
            padding: 1.2rem;
            border-radius: 12px;
            background: var(--light);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 4px solid var(--accent);
        }
        
        .poi-item:hover {
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateX(5px);
        }
        
        .poi-item:last-child {
            margin-bottom: 0;
        }
        
        .poi-icon {
            width: 50px;
            height: 50px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .poi-icon i {
            color: white;
            font-size: 1.4rem;
        }
        
        .poi-info {
            flex-grow: 1;
        }
        
        .poi-info h4 {
            font-size: 1.2rem;
            margin-bottom: 0.3rem;
            color: var(--primary);
        }
        
        .poi-info p {
            font-size: 0.95rem;
            color: #666;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .poi-info p i {
            color: var(--accent);
        }
        
        .map-container {
            height: 500px;
            border-radius: 16px;
            overflow: hidden;
            background: var(--water);
            position: relative;
        }
        
        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(74, 144, 226, 0.8), rgba(93, 139, 102, 0.9));
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: white;
            text-align: center;
            padding: 2rem;
        }
        
        .map-overlay h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .map-overlay p {
            max-width: 500px;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }
        
        .route-display {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1.5rem;
        }
        
        .route-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.2rem;
        }
        
        .route-steps {
            max-height: 200px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .route-step {
            padding: 0.8rem;
            border-left: 3px solid var(--accent);
            margin-bottom: 0.8rem;
            background: white;
            border-radius: 0 8px 8px 0;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        
        .step-number {
            background: var(--accent);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-weight: bold;
            margin-top: 3px;
        }
        
        .step-info h4 {
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
            color: var(--primary);
        }
        
        .step-info p {
            font-size: 0.9rem;
            color: #666;
        }
        
        footer {
            background: var(--primary);
            color: white;
            text-align: center;
            padding: 1.5rem;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            transform: translateX(120%);
            transition: transform 0.4s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification i {
            font-size: 1.5rem;
            color: var(--secondary);
        }
        
        .progress-bar {
            height: 5px;
            background: var(--accent);
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            border-radius: 0 0 8px 8px;
            animation: progress 3s linear forwards;
        }
        
        @keyframes progress {
            from { width: 100%; }
            to { width: 0; }
        }
        
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            padding: 2rem;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(93, 139, 102, 0.3);
            border-top: 5px solid var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .location-access {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: center;
            text-align: center;
        }
        
        .location-access i {
            font-size: 2.5rem;
            color: var(--accent);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-mountain"></i>
            <h1>North Shore Explorer</h1>
        </div>
        <div class="controls">
            <button class="btn" id="save-btn">
                <i class="fas fa-bookmark"></i> Save Route
            </button>
            <button class="btn btn-secondary" id="route-btn">
                <i class="fas fa-route"></i> Plan Route
            </button>
        </div>
    </header>
    
    <div class="container">
        <div class="hero">
            <h2>Discover Minnesota's North Shore</h2>
            <p>Plan your perfect road trip along the scenic Lake Superior coastline with our interactive route planner</p>
            <button class="btn btn-secondary" id="start-btn">
                <i class="fas fa-play"></i> Start Adventure
            </button>
        </div>
        
        <div class="content">
            <div class="card">
                <h3><i class="fas fa-map-marker-alt"></i> Points of Interest</h3>
                <div class="poi-list" id="poi-list">
                    <!-- POI items will be generated here -->
                </div>
            </div>
            
            <div>
                <div class="card">
                    <h3><i class="fas fa-map"></i> Interactive Map</h3>
                    <div class="map-container">
                        <div class="map-overlay">
                            <h3>Your North Shore Adventure</h3>
                            <p>Click "Plan Route" to generate your personalized journey along Lake Superior's coastline</p>
                            <button class="btn btn-secondary" id="map-route-btn">
                                <i class="fas fa-route"></i> Generate Route
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="route-display">
                    <div class="route-header">
                        <h3><i class="fas fa-route"></i> Your Route</h3>
                        <span id="distance">0 miles</span>
                    </div>
                    <div class="route-steps" id="route-steps">
                        <div class="loading" id="route-loading">
                            <div class="spinner"></div>
                            <p>Generating your route...</p>
                        </div>
                        <div class="location-access" id="location-access">
                            <i class="fas fa-location-dot"></i>
                            <h4>Enable Location Services</h4>
                            <p>Allow location access to create a personalized route starting from your current position</p>
                            <button class="btn" id="enable-location-btn">
                                <i class="fas fa-location-crosshairs"></i> Enable Location
                            </button>
                        </div>
                        <!-- Route steps will be generated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <div>
            <h4>Route Generated Successfully!</h4>
            <p>Your North Shore adventure is ready</p>
        </div>
        <div class="progress-bar"></div>
    </div>
    
    <footer>
        <p>&copy; 2023 North Shore Explorer | Lake Superior's Premier Travel Guide</p>
    </footer>
    
    <script>
        // Predefined POI coordinates (sorted south-to-north)
        const pois = [
            {name: "Betty’s Pies", lat: 46.9942, lng: -91.6587, icon: "fas fa-pie", desc: "Famous pie shop with lake views"},
            {name: "Two Harbors Lighthouse", lat: 46.9945, lng: -91.6585, icon: "fas fa-lighthouse", desc: "Historic lighthouse and B&B"},
            {name: "Gooseberry Falls", lat: 47.1487, lng: -91.4685, icon: "fas fa-water", desc: "Spectacular waterfalls and hiking trails"},
            {name: "Split Rock Lighthouse", lat: 47.1999, lng: -91.3668, icon: "fas fa-lighthouse", desc: "Iconic lighthouse on the cliffs"},
            {name: "Iona’s Pink Beach", lat: 47.2575, lng: -91.2414, icon: "fas fa-umbrella-beach", desc: "Unique pink sand beach"},
            {name: "Black Beach", lat: 47.2943, lng: -91.2575, icon: "fas fa-umbrella-beach", desc: "Striking black sand beach"},
            {name: "Sugarloaf Cove", lat: 47.4321, lng: -91.0999, icon: "fas fa-tree", desc: "Nature center with hiking trails"},
            {name: "Amethyst Mine", lat: 47.4478, lng: -91.0789, icon: "fas fa-gem", desc: "Mine tours and gem collecting"},
            {name: "Lutsen Gondola", lat: 47.6541, lng: -90.6779, icon: "fas fa-mountain", desc: "Scenic mountain gondola ride"},
            {name: "Adventure Park", lat: 47.6541, lng: -90.6779, icon: "fas fa-zipline", desc: "Aerial adventure courses"},
            {name: "Superior Creamery", lat: 47.7505, lng: -90.3342, icon: "fas fa-ice-cream", desc: "Artisan ice cream shop"},
            {name: "Artist’s Point", lat: 47.7475, lng: -90.3380, icon: "fas fa-palette", desc: "Scenic rocky peninsula"},
            {name: "Folk School", lat: 47.7470, lng: -90.3370, icon: "fas fa-book", desc: "Traditional craft workshops"},
            {name: "Grand Portage", lat: 47.9616, lng: -89.6846, icon: "fas fa-monument", desc: "Historic fur trade site"},
            {name: "High Falls", lat: 48.0089, lng: -89.4865, icon: "fas fa-waterfall", desc: "Tallest waterfall in Minnesota"}
        ];
        
        // DOM elements
        const poiList = document.getElementById('poi-list');
        const routeSteps = document.getElementById('route-steps');
        const routeBtn = document.getElementById('route-btn');
        const mapRouteBtn = document.getElementById('map-route-btn');
        const startBtn = document.getElementById('start-btn');
        const enableLocationBtn = document.getElementById('enable-location-btn');
        const notification = document.getElementById('notification');
        const routeLoading = document.getElementById('route-loading');
        const locationAccess = document.getElementById('location-access');
        const distanceEl = document.getElementById('distance');
        
        // Render POI list
        function renderPoiList() {
            poiList.innerHTML = '';
            pois.forEach((poi, index) => {
                const poiItem = document.createElement('div');
                poiItem.className = 'poi-item';
                poiItem.innerHTML = `
                    <div class="poi-icon">
                        <i class="${poi.icon}"></i>
                    </div>
                    <div class="poi-info">
                        <h4>${poi.name}</h4>
                        <p><i class="fas fa-map-pin"></i> ${poi.desc}</p>
                        <p><i class="fas fa-arrow-up"></i> ${(poi.lat - pois[0].lat).toFixed(4)}° North</p>
                    </div>
                `;
                poiList.appendChild(poiItem);
            });
        }
        
        // Show notification
        function showNotification(message) {
            notification.querySelector('h4').textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Generate route steps
        function generateRouteSteps(userLat, userLng) {
            routeSteps.innerHTML = '';
            routeLoading.style.display = 'none';
            
            // Filter and sort POIs north of user
            const northPois = pois
                .filter(poi => poi.lat > userLat)
                .sort((a, b) => a.lat - b.lat);
            
            if (northPois.length === 0) {
                routeSteps.innerHTML = '<p>No POIs north of your location</p>';
                return;
            }
            
            // Add starting point
            const startStep = document.createElement('div');
            startStep.className = 'route-step';
            startStep.innerHTML = `
                <div class="step-number">1</div>
                <div class="step-info">
                    <h4>Your Location</h4>
                    <p>Starting point of your journey</p>
                </div>
            `;
            routeSteps.appendChild(startStep);
            
            // Add POIs
            northPois.forEach((poi, index) => {
                const step = document.createElement('div');
                step.className = 'route-step';
                step.innerHTML = `
                    <div class="step-number">${index + 2}</div>
                    <div class="step-info">
                        <h4>${poi.name}</h4>
                        <p>${poi.desc}</p>
                    </div>
                `;
                routeSteps.appendChild(step);
            });
            
            // Calculate approximate distance
            const start = {lat: userLat, lng: userLng};
            const end = northPois[northPois.length - 1];
            const distance = calculateDistance(start, end);
            distanceEl.textContent = `${distance} miles`;
            
            showNotification('Route Generated Successfully!');
        }
        
        // Calculate distance between two points (simplified)
        function calculateDistance(start, end) {
            // Simplified calculation for demonstration
            const latDiff = Math.abs(end.lat - start.lat);
            const lngDiff = Math.abs(end.lng - start.lng);
            const distance = Math.sqrt(latDiff*latDiff + lngDiff*lngDiff) * 70;
            return distance.toFixed(1);
        }
        
        // Add stops to Google Maps
        function addStopsToGoogleMaps() {
            if (!navigator.geolocation) {
                alert("Geolocation not supported");
                return;
            }
            
            routeLoading.style.display = 'flex';
            locationAccess.style.display = 'none';
            
            navigator.geolocation.getCurrentPosition(
                position => {
                    const userLat = position.coords.latitude;
                    const userLng = position.coords.longitude;
                    
                    // Filter and sort POIs north of user
                    const northPois = pois
                        .filter(poi => poi.lat > userLat)
                        .sort((a, b) => a.lat - b.lat);
                    
                    if (northPois.length === 0) {
                        alert("No POIs north of your location");
                        routeLoading.style.display = 'none';
                        return;
                    }
                    
                    // Generate Google Maps URL
                    const origin = `${userLat},${userLng}`;
                    const destination = northPois[northPois.length - 1];
                    const waypoints = northPois.slice(0, -1);
                    
                    let url = `https://www.google.com/maps/dir/?api=1&origin=${origin}&destination=${destination.lat},${destination.lng}&travelmode=driving`;
                    
                    if (waypoints.length > 0) {
                        url += `&waypoints=${waypoints.map(p => `${p.lat},${p.lng}`).join('|')}`;
                    }
                    
                    // Generate route steps for display
                    generateRouteSteps(userLat, userLng);
                    
                    // Open in Google Maps after a delay
                    setTimeout(() => {
                        window.open(url, '_blank');
                    }, 1500);
                },
                error => {
                    console.error("Geolocation error:", error);
                    routeLoading.style.display = 'none';
                    locationAccess.style.display = 'flex';
                }
            );
        }
        
        // Event listeners
        routeBtn.addEventListener('click', addStopsToGoogleMaps);
        mapRouteBtn.addEventListener('click', addStopsToGoogleMaps);
        startBtn.addEventListener('click', addStopsToGoogleMaps);
        enableLocationBtn.addEventListener('click', addStopsToGoogleMaps);
        
        // Initialize the app
        renderPoiList();
        
        // Hide loading after initial load
        setTimeout(() => {
            routeLoading.style.display = 'none';
        }, 2000);
    </script>
</body>
</html>